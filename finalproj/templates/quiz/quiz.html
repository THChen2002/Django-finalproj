{% extends "base.html" %}
{% block title %}氣象科普測驗{% endblock %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="/static/css/quiz.css">
<div class="container" style="justify-content: center;">
   <br>
   <div class="row">
      <div class="col-md-6">
         <h1>氣象科普測驗</h1>
      </div>
      <div class="col-md-6">
         <button type="button" class="btn btn-danger"  data-bs-toggle="modal"data-bs-target="#alert" style="float: right; margin-left: 20px;">回測驗首頁</button>
      </div>
   </div>
   {% for question in questions %}
   <div class="mainquiz container-fluid">
      <div class="scp-quizzes-main" >
         <div class="scp-quizzes-data">
            <div class="row">
               <div>
                  <h3>{{ question.question }}</h3>

                  {% if question.question_url%}
                  <img src="{{ question.question_url }}" alt="" width="30%">
                  {% endif %}
               </div>
            </div>
            <br>
            <input type="radio" name="question{{ forloop.counter }}" onchange="recordAnswer({{ forloop.counter }}, this)">
            <label id="label1_{{ forloop.counter }}">1. {{ question.choice1 }}</label>
            <br>
            <input type="radio" name="question{{ forloop.counter }}" onchange="recordAnswer({{ forloop.counter }}, this)">
            <label id="label2_{{ forloop.counter }}">2. {{ question.choice2 }}</label>
            <br>
            <input type="radio" name="question{{ forloop.counter }}" onchange="recordAnswer({{ forloop.counter }}, this)">
            <label id="label3_{{ forloop.counter }}">3. {{ question.choice3 }}</label>
            <br>
            <input type="radio" name="question{{ forloop.counter }}" onchange="recordAnswer({{ forloop.counter }}, this)">
            <label id="label4_{{ forloop.counter }}">4. {{ question.choice4 }}</label>
         </div>
      </div>
   </div>
{% endfor %}



   <!--警告頁面-->
   <div class="modal fade" id="alert" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
         <div class="modal-content">
            <div class="modal-header">
               <h5 class="modal-title" id="staticBackdropLabel">提醒</h5>
               <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
               你確定要離開嗎?測驗內容將不會被儲存!
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
               <a href="/quiz/index" type="button" class="btn btn-danger">回測驗首頁</a>
            </div>
         </div>
      </div>
   </div>
</div>
<br>
<br>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js" type='text/javascript'></script>
<script>
   // 定義一個空物件來儲存使用者的選項
   var answers = {};
 
   // 當使用者選擇一個選項時，將選項存入answers變數中
   function recordAnswer(questionNum, selectedOption) {
     answers[questionNum] = selectedOption.value;
     // 將使用者選到的label改成藍色
     var labelId = "label" + selectedOption.id;
     document.getElementById(labelId).style.backgroundColor = "blue";
   }
   alert(answers);
 </script>
{% comment %} <script type="text/javascript">
   $(document).ready(function () {
      $('label').click(function () {
         $('label').removeClass('checked');
         $(this).addClass('checked');
      });
   });
   function nextQuestion() {
      //window.location.href = "/quiz/";
   }
</script> {% endcomment %}
{% endblock %}